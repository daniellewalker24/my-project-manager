<%= content_for :head do %>
  <script>

  </script>
<% end %>

<div class="content">
  <div class="index">
    <h1>Customers</h1>

    <%= link_to 'New customer', new_customer_registration_path %>

    <%= form_tag '', method: :get do %>
      <%= label_tag :name_search %>
      <%= text_field_tag :name_search, params[:name_search], class: 'autocomplete', data: { path: "#{autocomplete_path(model: 'Customer', field: 'name')}", select: 'log' } %>

      <%= radio_button_tag :project_type, 'only_quote', (params[:project_type].to_i === Project.statuses[:quoted]), value: Project.statuses[:quoted] %>
      <%= label_tag :project_type_only_quote, "Only customers with quoted projects" %>

      <%= radio_button_tag :project_type, 'only_sold', (params[:project_type].to_i === Project.statuses[:sold]), value: Project.statuses[:sold] %>
      <%= label_tag :project_type_only_sold, "Only customers with sold projects" %>

      <%= radio_button_tag :project_type, 'only_completed', (params[:project_type].to_i === Project.statuses[:completed]), value: Project.statuses[:completed] %>
      <%= label_tag :project_type_only_completed, "Only customers with completed projects" %>

      <%= submit_tag 'Search' %>
    <% end %>

    <%= render @customers %>

    <%= paginate @customers %>
  </div>
</div>
